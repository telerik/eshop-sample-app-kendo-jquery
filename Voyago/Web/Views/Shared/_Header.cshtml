<style>
	.header{
		height: 8vh;
		min-height: 100px;		
		display: flex;		
		flex-direction: row;
		justify-content: space-between;
	}

	.logo{
		width: auto;
		height: 57px;
		margin-left: 12.5vw;
		margin-top: 3%;
		margin-bottom: 3%;
		margin-right: 2%;
	}

	.k-autocomplete{
		height: 40px;
	}

	.search-bar-container{
		width: 30vw;
		margin-top: 3%;
		min-width: 120px;		
		margin: auto 0;
		margin-left: 3vw;
	}

	.header-menu .k-dropdownlist{
		align-items: center;
		border-color: white !important;		
		min-width: 120px;
		margin-right: 20px;
	}

	#headerCategoriesDDL, #searchBar, h6{
		font-size: 14px;
		font-weight: normal;
	}

	.header-menu{
		align-self: center;
		display: flex;
		flex-direction: row;
		margin-right: 12.5vw;
		align-items: baseline;
		gap: 20px;
	}

	.header-menu a, .header-menu button, shopping-cart{
		margin: 8% 3%; 
	}

	.k-i-search{
		height: 4vh;
		width: 4vh;
		color: #0078D4;
	}

	#favoritesBadge {
		margin-top: -39px;
		margin-left: 62px;
	}

	#shoppingCartBadge {
		margin-top: -34px;
		margin-left: 25px;
	}

	.k-button{
		border: none;
	}

	.shopping-cart .k-icon{
		font-size:20px;
	}

	.k-button-text{
		font-weight: normal;
	}

	#profile-btn_buttonmenu{
		width: 100px !important;
	}
	

	@@media (max-width: 1300px) {
		.header{
			flex-wrap: wrap;
		}	

	  .logo{
			width: auto;
			height: 35px;
			margin-top: 10%;
			margin-left: 2%;
		}

		.search-bar-container{
			width: 20vw;
		}

		.header-menu{
			gap: 2px;
		}
	}	

	@@media (max-width: 820px) {
	  .logo{
			width: auto;
			height: 20px;
			margin-top: 50%;
			margin-left: 20%;
		}

		.header{	
			height: 140px;
		}
	}	
</style>

<div class="header">
	<a href="/Home/Index">
		<img class="logo" src="~/images/logo.png" alt="Voyago">
	</a>
	<div class="search-bar-container">
		<input id="searchBar" name="searchBar" type="text" value="" />		
	</div>
	<div class="header-menu">
		<div>
			<input id="headerCategoriesDDL" name="headerCategoriesDDL" type="text" />	
		</div>		
		<a href="/Contacts/Index">
			<h6 style="color: black; white-space:nowrap;">Contacts</h6>
		</a>
		<button id="contacts-btn">Favourites</button>		
		<button class="profile" id="profile-btn"></button>
		<button class="shopping-cart" id="shopping-cart"></button>		
	</div>
</div>

<script id="searchBar-template" type="text/html">
	<span class="k-state-default">
		<span style="color: \\#849A8E;">
			#:data.ProductName#
		</span>
		# if(data.SubCategory != null) { #
			in #:data.SubCategory#
		# } #
	</span>
</script>

<script>
	$(document).ready(function () {
		getFavoritesCount();
		getShoppingCartItemsCount();

		$("#contacts-btn").kendoButton({
			click: function(){
				location.href='/Account/Favorites'
			},
            badge: {
                position: "edge",
                rounded: "full",
				align: "top end",
                themeColor: "primary",
				text: 0
            }
        });

		$("#shopping-cart").kendoButton({
			click: function(){
				location.href='/Account/ShoppingCart'
			},
			icon: 'cart',
			size: "large",
            badge: {
                position: "edge",
                rounded: "full",
				align: "top end",
                themeColor: "primary",				
				text: 0
            }
        });

		$("#profile-btn").kendoDropDownButton({
			icon: "user",
			fillMode: "flat",
			items: [
			   // { class: "report-viewer", text: "ReportViewer", click: function (e) { window.location.href = "https://localhost:7003/Home/ReportViewer" } },
			    { class: "profile", text: "Profile", click: function (e) { window.location.href = "/account/Profile" } },
			    { class: "orders", text: "Orders", click: function (e) { window.location.href = "/account/OrdersPage" } },
			    { class: "logout", text: "Logout", click: function (e) { window.location.href= "/account/Logout" }}
			]
       });

		$("#searchBar").kendoAutoComplete({
			"select": onSearchSelect,
			//"change": searchProducts,
			"clearButton": false,
			"dataTextField": "ProductName",
			"minLength": 2,
			"placeholder": "Search",
			"template": $('#searchBar-template').html(),
			"filter": "contains",
			"dataSource": {
			    "transport": {
			        "read": {
			            "url": "/Home/GetSearchSuggestions",
			            "data": onAdditionalData
			        }
			    },
			    "serverFiltering": true,			    
			}
		});

		 $("#headerCategoriesDDL").kendoDropDownList({
			"change": goToCategoryPage,
			"optionLabel": "Categories",
			"size": "large",
			"dataSource":[
				"Accessories",
				"Bikes",
				"Clothing",
				"Components"
			]
		});

		 $(".k-autocomplete").prepend("<span class='k-icon k-i-search'></span>")
	})
</script>
